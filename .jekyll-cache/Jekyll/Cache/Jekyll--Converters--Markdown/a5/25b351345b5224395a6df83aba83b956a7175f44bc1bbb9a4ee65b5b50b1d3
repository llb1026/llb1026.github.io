I"‘<h1 id="16-íŠ¸ëœì­ì…˜ê³¼-ë½-2ì°¨-ìºì‹œ">16. íŠ¸ëœì­ì…˜ê³¼ ë½, 2ì°¨ ìºì‹œ</h1>

<h2 id="ì‚¬ì „ì§€ì‹">ì‚¬ì „ì§€ì‹</h2>
<p>íŠ¸ëœì­ì…˜ì€ Atomicity(<em>ì›ìì„±</em>), Consistency(<em>ì¼ê´€ì„±</em>), Isolation(<em>ë…ë¦½ì„±</em>), Durability(<em>ì§€ì†ì„±</em>)ì„ ë³´ì¥í•´ì•¼ í•œë‹¤.</p>

<ul>
  <li>ì›ìì„±: í•˜ë‚˜ì˜ íŠ¸ëœì­ì…˜ ì•ˆì—ì„œ ì‹¤í–‰í•œ ì¼ë ¨ì˜ ì‘ì—…ë“¤ì€ ì „ë¶€ ë‹¤ ì„±ê³µí•˜ê±°ë‚˜ ì „ë¶€ ë‹¤ ì‹¤íŒ¨í•´ì•¼ í•œë‹¤ â†’ íŠ¸ëœì­ì…˜ ì•ˆì˜ ì‘ì—…ë“¤ì´ ë¶€ë¶„ì ìœ¼ë¡œ ì‹¤í–‰ë˜ë‹¤ê°€ ì¤‘ë‹¨ë˜ì§€ ì•ŠëŠ” ê²ƒì„ ë³´ì¥í•œë‹¤ëŠ” ì˜ë¯¸ë¡œ, ì˜ˆë¥¼ ë“¤ì–´ â€˜ì´ì²´â€™ë¼ëŠ” í•˜ë‚˜ì˜ íŠ¸ëœì­ì…˜ ì•ˆì—ì„œ ì†¡ê¸ˆë§Œ ì„±ê³µí•˜ê³  ì…ê¸ˆì€ ì‹¤íŒ¨í•  ìˆ˜ ì—†ì–´ì•¼ í•œë‹¤</li>
  <li>ì¼ê´€ì„±: íŠ¸ëœì­ì…˜ì´ ì‹¤í–‰ì„ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œí•˜ë©´ ì–¸ì œë‚˜ ì¼ê´€ì„± ìˆëŠ” DB ìƒíƒœë¥¼ ìœ ì§€í•´ì•¼ í•œë‹¤ â†’ DBì—ì„œ ì •í•œ ë¬´ê²°ì„± ì œì•½ ì¡°ê±´ì„ í•­ìƒ ë§Œì¡±í•´ì•¼ í•˜ë©°, ì˜ˆë¥¼ ë“¤ì–´ ë¬´ê²°ì„± ì œì•½ì´ â€˜ëª¨ë“  ê³„ì¢ŒëŠ” ì”ê³ ê°€ ìˆì–´ì•¼ í•œë‹¤â€™ ë¼ë©´ ì´ë¥¼ ìœ„ë°˜í•˜ëŠ” íŠ¸ëœì­ì…˜ì€ ì¤‘ë‹¨ëœë‹¤</li>
  <li>ë…ë¦½ì„±: ë™ì‹œì— ì‹¤í–‰ë˜ëŠ” íŠ¸ëœì­ì…˜ë“¤ì´ ì„œë¡œì˜ ì—°ì‚° ì‘ì—…ì— ì˜í–¥ì„ ë¯¸ì¹˜ì§€ ì•Šë„ë¡ ê²©ë¦¬í•˜ëŠ” ê²ƒìœ¼ë¡œ, ë™ì‹œì„±ê³¼ ê´€ë ¨ëœ ì„±ëŠ¥ ì´ìŠˆë¡œ ì¸í•´ ê²©ë¦¬ ìˆ˜ì¤€ì„ ë³„ë„ë¡œ ì„¤ì •í•´ì¤„ ìˆ˜ ìˆë‹¤ â†’ ì˜ˆë¥¼ ë“¤ì–´ ê°€ì¥ ì—„ê²©í•œ ê²©ë¦¬ ìˆ˜ì¤€(SERIALIZABLE)ì´ ì„¤ì •ë˜ì–´ ìˆë‹¤ë©´, â€˜ì´ì²´â€™ íŠ¸ëœì­ì…˜ì´ ì§„í–‰ë˜ëŠ” ë™ì•ˆ ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ë“¤(â€˜ì”ê³  ì¡°íšŒâ€™, â€˜ì¶œê¸ˆâ€™ ë“±)ì€ ì”ê³  ë°ì´í„°ì— ì ‘ê·¼í•  ìˆ˜ ì—†ì–´ â€˜ì´ì²´â€™ê°€ ëë‚  ë•Œê¹Œì§€ ê³„ì† ê¸°ë‹¤ë ¤ì•¼ í•œë‹¤ (ë™ì‹œì„±X)</li>
  <li>ì§€ì†ì„±: íŠ¸ëœì­ì…˜ì´ ì„±ê³µì ìœ¼ë¡œ ëë‚˜ë©´ ê·¸ ê²°ê³¼ê°€ ì˜ì›íˆ ë°˜ì˜ë˜ì–´ì•¼ í•œë‹¤ â†’ ì¤‘ê°„ì— ì‹œìŠ¤í…œì— ì¥ì• ê°€ ë°œìƒí•´ë„ DB ë¡œê·¸ì— ë‚¨ì€ íŠ¸ëœì­ì…˜ë“¤ì„ ê°€ì§€ê³  ì™€ì„œ ì¥ì•  ë°œìƒ ì „ìœ¼ë¡œ ë˜ëŒë¦´ ìˆ˜ ìˆë‹¤ (íŠ¸ëœì­ì…˜ì€ ë¡œê·¸ì— ëª¨ë“  ë‚´ì—­ì´ ë‚¨ì€ í›„ì—¬ì•¼ commit ìƒíƒœë¼ê³  í•  ìˆ˜ ìˆë‹¤)</li>
</ul>

<hr />

<h2 id="íŠ¸ëœì­ì…˜ê³¼-ê²©ë¦¬-ìˆ˜ì¤€">íŠ¸ëœì­ì…˜ê³¼ ê²©ë¦¬ ìˆ˜ì¤€</h2>
<p>ê²©ë¦¬ ìˆ˜ì¤€(Isolation level)ì€ ë™ì‹œì— ì—¬ëŸ¬ íŠ¸ëœì­ì…˜ì´ ì²˜ë¦¬ë  ë•Œ íŠ¹ì • íŠ¸ëœì­ì…˜ì´ ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì—ì„œ ë³€ê²½/ì¡°íšŒí•˜ê³  ìˆëŠ” ë°ì´í„°ë¥¼ ë³¼ ìˆ˜ ìˆë„ë¡ í—ˆìš©í• ì§€ ë§ì§€ë¥¼ ê²°ì •í•˜ëŠ” ê²ƒì´ë‹¤.
ì¼ë°˜ì ìœ¼ë¡œ ê²©ë¦¬ ìˆ˜ì¤€ê³¼ ë™ì‹œì„±ì€ ë°˜ë¹„ë¡€ ê´€ê³„ì´ë‹¤.</p>

<ol>
  <li>==READ UNCOMMITED==
    <ul>
      <li>í•˜ë‚˜ì˜ íŠ¸ëœì­ì…˜ì—ì„œ ì‘ì—…ì¤‘ì¸ ë³€ê²½ ë‚´ìš©ì´ commit/rollback ë˜ì§€ ì•Šì€ ìƒíƒœì—ì„œë„ ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì—ì„œ ë³´ì—¬ì§„ë‹¤ â†’ DIRTY READ</li>
      <li>ë°ì´í„° ì •í•©ì„±ì— ë¬¸ì œê°€ ë§ì•„ RDBMS í‘œì¤€ì—ì„œëŠ” ê²©ë¦¬ ìˆ˜ì¤€ìœ¼ë¡œ ì¸ì •í•˜ì§€ ì•Šê³  ìˆë‹¤</li>
    </ul>
  </li>
  <li>==READ COMMITTED==
    <ul>
      <li>í•˜ë‚˜ì˜ íŠ¸ëœì­ì…˜ì—ì„œ ì‘ì—…ì¤‘ì¸ ë³€ê²½ ë‚´ìš©ì´ commit/rollback ì™„ë£Œëœ ê²½ìš°ì—ë§Œ ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì—ì„œ ë³´ì—¬ì§„ë‹¤</li>
      <li>ì•„ì§ commit/rollback ì „ì´ë¼ë©´, ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì€ undo[^REDO ì˜ì—­ì—ëŠ” ìˆ˜í–‰í–ˆë˜ ëª¨ë“  ì‘ì—…ë“¤ì´ ìˆœì°¨ì ìœ¼ë¡œ ê¸°ë¡ë˜ê³ , UNDO ì˜ì—­ì—ëŠ” ê° ë°ì´í„° ë³€ê²½ ì‘ì—…ì´ ì¼ì–´ë‚˜ê¸° ì´ì „ì˜ ë°ì´í„°ë“¤ì´ ë‹´ê¸´ë‹¤. DBì— ì¥ì• ê°€ ë°œìƒí–ˆì„ ë•Œì—ëŠ” REDOë¥¼ ì‚¬ìš©í•´ ë³µêµ¬í•˜ê³ , ì‘ì—… ë‹¨ìœ„ë¡œ ë¡¤ë°±í•˜ê³ ì í•  ë•Œì—ëŠ” UNDOë¥¼ ì‚¬ìš©í•œë‹¤.] ì˜ì—­ì— ë°±ì—…ëœ ê¸°ì¡´ ê°’ì„ ì°¸ì¡°í•œë‹¤</li>
      <li>Oracle DBMSì—ì„œ ë””í´íŠ¸ ê²©ë¦¬ ìˆ˜ì¤€ì´ë‹¤ (Shared Lock[^Exclusive Lock(= Write Lock)ì€ í•˜ë‚˜ì˜ íŠ¸ëœì­ì…˜ì—ì„œ ë°ì´í„° ë³€ê²½ ì‘ì—…ì„ ìˆ˜í–‰í•  ì‹œ íŠ¸ëœì­ì…˜ì´ ì™„ë£Œë  ë•Œê¹Œì§€ ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì´ í•´ë‹¹ ë°ì´í„°ë¥¼ ì½ê³  ì“°ì§€ ëª»í•˜ê²Œ í•˜ê³ , Shared Lock(= Read Lock)ì€ íŠ¸ëœì­ì…˜ì´ ì™„ë£Œë  ë•Œê¹Œì§€ ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì´ í•´ë‹¹ ë°ì´í„°ë¥¼ ì½ì„ ìˆ˜ë§Œ ìˆê²Œ í•œë‹¤. í•˜ë‚˜ì˜ ë°ì´í„°ì— Exclusive Lockì´ ê±¸ë¦¬ë©´ ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì´ í•´ë‹¹ ë°ì´í„°ì— ë˜ë‹¤ë¥¸ Exclusive Lockì´ë‚˜ Shared Lockì„ ê±¸ ìˆ˜ ì—†ìœ¼ë‚˜, ë°ì´í„°ì— Shared Lockì´ ê±¸ë¦¬ë©´ ë‹¤ë¥¸ íŠ¸ì­ì…˜ì€ í•´ë‹¹ ë°ì´í„°ì— ë˜ë‹¤ë¥¸ Shared Lockì„ ê±¸ ìˆ˜ ìˆë‹¤. ê·¸ëŸ¬ë‚˜ Shared Lockì´ ê±¸ë¦° ë°ì´í„°ì— Exclusive Lockì„ ê±°ëŠ” ê²ƒì€ ë¶ˆê°€ëŠ¥í•˜ë‹¤.] ì‚¬ìš©)</li>
      <li>í•˜ë‚˜ì˜ íŠ¸ëœì­ì…˜ì—ì„œ ë°ì´í„°ë¥¼ ì¡°íšŒì¤‘ì¸ë° ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì´ í•´ë‹¹ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ê³  commití•˜ë©´ ë‹¤ì‹œ í•´ë‹¹ ë°ì´í„°ë¥¼ ì¡°íšŒí–ˆì„ ë•Œ ë³€ê²½ëœ ê°’ì´ ì¡°íšŒë˜ë¯€ë¡œ ë°ì´í„° ì •í•©ì„±ì´ ê¹¨ì§„ë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ì•±ì—ì„œ ì´ì²´ë¥¼ ìœ„í•´ ê³„ì¢Œ ì”ê³ ë¥¼ ì¡°íšŒí•˜ëŠ” ë„ì¤‘ ATMìœ¼ë¡œ ëˆì„ ì „ë¶€ ì´ì²´í–ˆëŠ”ë° ì•±ì—ì„œëŠ” ì—¬ì „íˆ ì´ì²´ê°€ ê°€ëŠ¥í•œ ë¬¸ì œê°€ ë°œìƒí•œë‹¤ â†’ NON-REPEATABLE READ[^REPEATABLE READëŠ” í•˜ë‚˜ì˜ íŠ¸ëœì­ì…˜ ì•ˆì—ì„œ ë™ì¼í•œ SELECTë¬¸ì„ ì‹¤í–‰í–ˆì„ ë•Œ í•­ìƒ ê°™ì€ ê²°ê³¼ë¥¼ ê°€ì ¸ì˜¤ëŠ” ê²½ìš°ì´ë‹¤.]</li>
      <li>NON-REPEATABLE READëŠ” í•˜ë‚˜ì˜ íŠ¸ëœì­ì…˜ì—ì„œ ë™ì¼í•œ ì¿¼ë¦¬ë¥¼ ë‘ ë²ˆ ì´ìƒ ì‹¤í–‰í–ˆì„ ë•Œ ë‹¤ë¥¸ ê²°ê³¼ê°’ì´ ì¡°íšŒë˜ëŠ” ê²½ìš°ë¡œ, DIRTY READì— ë¹„í•´ ë¹„êµì  ë°œìƒí•  í™•ë¥ ì´ ì ë‹¤</li>
    </ul>
  </li>
  <li>==REPEATABLE READ==
    <ul>
      <li>READ COMMITTEDì™€ ë‹¬ë¦¬, commití•œ ë°ì´í„°ë§Œ ì ‘ê·¼í•  ìˆ˜ ìˆì–´ í•˜ë‚˜ì˜ íŠ¸ëœì­ì…˜ì—ì„œ í•œ ë²ˆ ì¡°íšŒí•œ ë°ì´í„°ì— ëŒ€í•´ ì—¬ëŸ¬ ë²ˆ ê°™ì€ ì¡°íšŒ ì¿¼ë¦¬ë¥¼ ë‚ ë ¤ë„ ë™ì¼í•œ ê²°ê³¼ê°’ì´ ë‚˜ì˜¨ë‹¤ â†’ NON-REPEATABLE READ ë°œìƒí•˜ì§€ ì•ŠìŒ</li>
      <li>READ COMMITTEDì™€ì˜ ë˜ë‹¤ë¥¸ ì°¨ì´ëŠ” UNDO ì˜ì—­ì— ê¸°ë¡ëœ ì´ì „ ë³€ê²½ë‚´ì—­ì„ ëª‡ë²ˆì§¸ ì´ì „ ë²„ì „ê¹Œì§€ ì°¾ì•„ ë“¤ì–´ê°€ëŠ”ì§€ì— ìˆìŒ â†’ ë°ì´í„°ë¥¼ ë³€ê²½ì¤‘ì¸ íŠ¸ëœì­ì…˜ ì•ˆì—ì„œ ë³€ê²½ì´ ë§ì•„ì§€ê³  ì¢…ë£Œë˜ì§€ ì•Šìœ¼ë©´ UNDO ì˜ì—­ì´ ë¬´í•œì •ìœ¼ë¡œ ì»¤ì§ˆ ìˆ˜ ìˆê³ , ì´ë¡œ ì¸í•´ ì„±ëŠ¥ì´ ë–¨ì–´ì§ˆ ìˆ˜ ìˆë‹¤</li>
      <li>MySQL InnoDBì—ì„œ ë””í´íŠ¸ ê²©ë¦¬ ìˆ˜ì¤€ì´ë‹¤</li>
      <li>Binary Logë¥¼ ê°€ì§„ MySQL DBì—ì„œëŠ” ìµœì†Œ REPEATABLE READ ì´ìƒì˜ ê²©ë¦¬ ìˆ˜ì¤€ì„ ì‚¬ìš©í•´ì•¼ í•œë‹¤</li>
      <li><code class="language-plaintext highlighter-rouge">SELECT ~ FOR UPDATE</code> ì¿¼ë¦¬ì˜ ê²½ìš°, ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì—ì„œ commit í•˜ê¸° ì „ì— ìˆ˜í–‰í•œ ë³€ê²½ ì‘ì—…ì— ì˜í•´ ë°ì´í„°ë“¤ì´ ë³´ì˜€ë‹¤ê°€ ì•ˆë³´ì˜€ë‹¤ê°€ í•  ìˆ˜ ìˆë‹¤ â†’ PHANTOM READ</li>
      <li>PHANTOM READëŠ” UNDO ì˜ì—­ì— Lockì„ ê±¸ ìˆ˜ ì—†ìœ¼ë¯€ë¡œ íŠ¸ëœì­ì…˜ ì‹œì‘ ì „ì˜ ë°ì´í„°ê°€ ì•„ë‹ˆë¼ UNDO ì˜ì—­ì— ê¸°ë¡ëœ ë³€ê²½ëœ ë ˆì½”ë“œ ë²„ì „ì„ ì½ì–´ì˜¤ê¸° ë•Œë¬¸ì— ë°œìƒí•œë‹¤</li>
    </ul>
  </li>
  <li>==SERIALIZABLE==
    <ul>
      <li>ê°€ì¥ ì—„ê²©í•œ íŠ¸ëœì­ì…˜ ê²©ë¦¬ ìˆ˜ì¤€ìœ¼ë¡œ, ë°ì´í„° ë³€ê²½ë¿ë§Œ ì•„ë‹ˆë¼ ì¡°íšŒ ì‘ì—…ì—ë„ Shared Lockì´ í•„ìš”í•˜ë©° ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì´ í•´ë‹¹ ë°ì´í„°ë¥¼ ë³€ê²½í•  ìˆ˜ ì—†ë‹¤</li>
      <li>í•œ íŠ¸ëœì­ì…˜ì—ì„œ ì½ê³  ì“°ëŠ” ë°ì´í„°ë¥¼ ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì—ì„œëŠ” ì ˆëŒ€ ì ‘ê·¼í•  ìˆ˜ ì—†ë‹¤ â†’ ë™ì‹œì„± ì²˜ë¦¬ ì„±ëŠ¥ ì €í•˜</li>
    </ul>
  </li>
</ol>

<p>ê²©ë¦¬ ìˆ˜ì¤€ì— ë”°ë¼ ë°œìƒí•˜ëŠ” ë¬¸ì œì ë“¤ë“¤ì„ ë‹¤ì‹œ ì •ë¦¬í•˜ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.</p>

<ul>
  <li>==DIRTY READ==: í•˜ë‚˜ì˜ íŠ¸ëœì­ì…˜ì—ì„œ ë³€ê²½ëœ ë°ì´í„°ê°€ commitë˜ê¸° ì´ì „ì—ë„ ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì—ì„œ ë³€ê²½ëœ ë°ì´í„°ì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ë¬¸ì œ</li>
  <li>==NON-REPEATABLE READ==: í•˜ë‚˜ì˜ íŠ¸ëœì­ì…˜ì—ì„œ ë³€ê²½ì¤‘ì¸ ë°ì´í„°ì— ëŒ€í•´ Shared Lockì„ íšë“í•œ ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì´ ê°™ì€ ì¡°íšŒ ì¿¼ë¦¬ë¥¼ ë‘ ë²ˆ ìˆ˜í–‰í–ˆëŠ”ë° ê·¸ ì‚¬ì´ì— í•´ë‹¹ ë°ì´í„°ê°€ ë³€ê²½ë˜ì–´ ì²˜ìŒ ì¡°íšŒ ê²°ê³¼ê°’ê³¼ ë‹¤ë¥¸ ê²°ê³¼ê°’ì´ ë‚˜ì˜¬ ìˆ˜ ìˆëŠ” ë¬¸ì œ</li>
  <li>==PHANTOM READ==: í•˜ë‚˜ì˜ íŠ¸ëœì­ì…˜ì—ì„œ ë³€ê²½ì¤‘ì¸ ë°ì´í„°ì— ëŒ€í•´ Shared Lockì„ íšë“í•œ ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì´ ê°™ì€ ì¿¼ë¦¬ë¥¼ ë‘ ë²ˆ ìˆ˜í–‰í–ˆëŠ”ë° ê·¸ ì‚¬ì´ì— ì‹ ê·œë¡œ ì‚½ì…ëœ ë°ì´í„°ì— ì˜í•´ ì²«ë²ˆì§¸ì—ì„œëŠ” ì—†ë˜ ë°ì´í„°ê°€ ë‘ë²ˆì§¸ì—ì„œ ì¡°íšŒë˜ëŠ” ë¬¸ì œ</li>
</ul>

<table>
  <thead>
    <tr>
      <th style="text-align: left">ê²©ë¦¬ ìˆ˜ì¤€</th>
      <th style="text-align: center">DIRTY READ</th>
      <th style="text-align: center">NON-REPEATABLE READ</th>
      <th style="text-align: center">PHANTOM READ</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">READ UNCOMMITTED</td>
      <td style="text-align: center">O</td>
      <td style="text-align: center">O</td>
      <td style="text-align: center">O</td>
    </tr>
    <tr>
      <td style="text-align: left">READ COMMITTED</td>
      <td style="text-align: center">Â </td>
      <td style="text-align: center">O</td>
      <td style="text-align: center">O</td>
    </tr>
    <tr>
      <td style="text-align: left">REPEATABLE READ</td>
      <td style="text-align: center">Â </td>
      <td style="text-align: center">Â </td>
      <td style="text-align: center">O</td>
    </tr>
    <tr>
      <td style="text-align: left">SERIALIZABLE</td>
      <td style="text-align: center">Â </td>
      <td style="text-align: center">Â </td>
      <td style="text-align: center">Â </td>
    </tr>
  </tbody>
</table>

<hr />

<h2 id="ë‚™ê´€ì -lockê³¼-ë¹„ê´€ì -lock">ë‚™ê´€ì  Lockê³¼ ë¹„ê´€ì  Lock</h2>
<ul>
  <li>ë‚™ê´€ì  Lock
    <ul>
      <li>íŠ¸ëœì­ì…˜ì´ ì¶©ëŒ ì—†ì´ ìˆ˜í–‰ë  ê²ƒì´ë¼ ê°€ì •í•˜ê³ , DBì—ì„œ ì œê³µí•˜ëŠ” Lockì´ ì•„ë‹ˆë¼ JPA(ì–´í”Œë¦¬ì¼€ì´ì…˜)ì—ì„œ ì œê³µí•˜ëŠ” ë²„ì „ ê´€ë¦¬ ê¸°ëŠ¥ì„ ì‚¬ìš©í•œë‹¤</li>
      <li>ì˜ˆë¥¼ ë“¤ì–´, ì•±ì—ì„œ ì´ì²´í•˜ê¸° ìœ„í•´ ì”ê³ ë¥¼ ì¡°íšŒí•˜ëŠ” ì¤‘ì—ë„ ATMì—ì„œ ì „ì•¡ ì¶œê¸ˆì„ í•  ìˆ˜ ìˆìœ¼ë©°, ì¶œê¸ˆì´ ì§„í–‰ëœ ì´í›„ì—ë„ ì•±ì—ì„œ ë™ì¼í•œ íŠ¸ëœì­ì…˜ìœ¼ë¡œ ì´ì²´ë¥¼ ì‹œë„í•  ê²½ìš° ì–´í”Œë¦¬ì¼€ì´ì…˜ ë‹¨ì—ì„œ Exceptionì„ ë°œìƒì‹œí‚¬ ìˆ˜ ìˆë‹¤</li>
    </ul>
  </li>
  <li>ë¹„ê´€ì  Lock
    <ul>
      <li>íŠ¸ëœì­ì…˜ì— ì¶©ëŒì´ ì¼ì–´ë‚  ê²ƒì„ ê°€ì •í•˜ê³  DBë‹¨ì—ì„œ ìš°ì„  Lockì„ ê±°ëŠ” ë°©ì‹ìœ¼ë¡œ, ëŒ€í‘œì ìœ¼ë¡œ <code class="language-plaintext highlighter-rouge">SELECT FOR UPDATE</code> êµ¬ë¬¸ì´ ìˆë‹¤</li>
      <li>ê·¸ëŸ¬ë‚˜ SECOND LOST UPDATES ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤</li>
      <li>ì˜ˆë¥¼ ë“¤ì–´, ë‘ ì‚¬ëŒì´ ë™ì‹œì— í•˜ë‚˜ì˜ ê¸€ì„ ìˆ˜ì •í•  ë•Œ ë§ˆì§€ë§‰ìœ¼ë¡œ ìˆ˜ì •ì™„ë£Œ ë²„íŠ¼ì„ ëˆ„ë¥¸ ì‚¬ëŒì˜ ìˆ˜ì •ì‚¬í•­ë§Œ ë‚¨ê³  ë¨¼ì € ìˆ˜ì •ì™„ë£Œí•œ ì‚¬ëŒì˜ ë°ì´í„°ëŠ” ì‚¬ë¼ì§„ë‹¤</li>
      <li>SECOND LOST UPDATES ë¬¸ì œëŠ” DB íŠ¸ëœì­ì…˜ì˜ ë²”ìœ„ë¥¼ ë„˜ì–´ì„œë¯€ë¡œ, ë‹¤ìŒê³¼ ê°™ì´ 3ê°€ì§€ ì„ íƒë°©ë²•ìœ¼ë¡œ í•´ê²°í•´ì•¼ í•œë‹¤
        <ol>
          <li>ë§ˆì§€ë§‰ commitë§Œ ì¸ì • (default)</li>
          <li>ìµœì´ˆ commitë§Œ ì¸ì •</li>
          <li>ì¶©ëŒí•˜ëŠ” ê°±ì‹  ë‚´ìš© ë³‘í•©</li>
        </ol>
      </li>
    </ul>
  </li>
</ul>

<hr />

<h2 id="version-ì†Œê°œ">@Version ì†Œê°œ</h2>
<p>Entityì— <code class="language-plaintext highlighter-rouge">@Version</code> ì–´ë…¸í…Œì´ì…˜ì„ ë¶™ì´ë©´ Entityë¥¼ ìˆ˜ì •í•  ë•Œë§ˆë‹¤ ë²„ì „ì´ í•˜ë‚˜ì”© ìë™ìœ¼ë¡œ ì¦ê°€í•œë‹¤. ê·¸ë˜ì„œ Entityë¥¼ ìˆ˜ì •í•  ë•Œì˜ ë²„ì „ê³¼ ìˆ˜ì •ì™„ë£Œí•  ë•Œì˜ ë²„ì „ì´ ë‹¤ë¥´ë©´ Exceptionì´ ë°œìƒí•œë‹¤ (ë””í´íŠ¸ë¡œ ìµœì´ˆ commitë§Œ ì¸ì •)</p>

<p><code class="language-plaintext highlighter-rouge">@Version</code>ìœ¼ë¡œ ì¶”ê°€í•œ ë²„ì „ ê´€ë¦¬ í•„ë“œëŠ” JPAê°€ ì§ì ‘ ê´€ë¦¬í•˜ë©°, ì„ì˜ë¡œ ìˆ˜ì •í•  ìˆ˜ ì—†ë‹¤.</p>

<p>ë²„ì „ ê°’ì„ ê°•ì œë¡œ ì¦ê°€ì‹œí‚¤ê±°ë‚˜, ë²„ì „ ê´€ë¦¬ í•„ë“œë¥¼ ë¬´ì‹œí•˜ëŠ” Bulk ì—°ì‚°ì˜ ê²½ìš° JPAì—ì„œ ì œê³µí•˜ëŠ” Lockì„ ì‚¬ìš©í•´ì•¼ í•œë‹¤.</p>

<p>JPA Lockì˜ ì¢…ë¥˜ëŠ” ì•„ë˜ì™€ ê°™ë‹¤.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Lock Mode</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">ë‚™ê´€ì  Lock</td>
      <td style="text-align: left">OPTIMISTIC</td>
      <td style="text-align: left">ë‚™ê´€ì  Lockì„ ì‚¬ìš©</td>
    </tr>
    <tr>
      <td style="text-align: left">ë‚™ê´€ì  Lock</td>
      <td style="text-align: left">OPTIMISTIC_FORCE_INCREMENT</td>
      <td style="text-align: left">ë‚™ê´€ì  Lockì„ ì‚¬ìš©í•˜ë©° ë²„ì „ ì •ë³´ë¥¼ ê°•ì œë¡œ ì¦ê°€</td>
    </tr>
    <tr>
      <td style="text-align: left">ë¹„ê´€ì  Lock</td>
      <td style="text-align: left">PESSIMISTIC_READ</td>
      <td style="text-align: left">ë¹„ê´€ì  Lock, Shared Lockì„ ì‚¬ìš©</td>
    </tr>
    <tr>
      <td style="text-align: left">ë¹„ê´€ì  Lock</td>
      <td style="text-align: left">PESSIMISTIC_WRITE</td>
      <td style="text-align: left">ë¹„ê´€ì  Lock, Exclusive Lockì„ ì‚¬ìš©</td>
    </tr>
    <tr>
      <td style="text-align: left">ë¹„ê´€ì  Lock</td>
      <td style="text-align: left">PESSIMISTIC_FORCE_INCREMENT</td>
      <td style="text-align: left">ë¹„ê´€ì  Lockì„ ì‚¬ìš©í•˜ë©° ë²„ì „ ì •ë³´ë¥¼ ê°•ì œë¡œ ì¦ê°€</td>
    </tr>
    <tr>
      <td style="text-align: left">ê¸°íƒ€</td>
      <td style="text-align: left">NONE</td>
      <td style="text-align: left">Lockì„ ê±¸ì§€ ì•ŠëŠ”ë‹¤</td>
    </tr>
    <tr>
      <td style="text-align: left">ê¸°íƒ€</td>
      <td style="text-align: left">READ</td>
      <td style="text-align: left">OPTIMISTICê³¼ ë™ì¼</td>
    </tr>
    <tr>
      <td style="text-align: left">ê¸°íƒ€</td>
      <td style="text-align: left">WRITE</td>
      <td style="text-align: left">OPTIMISTIC_FORCE_INCREMENTì™€ ë™ì¼</td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p>JPAë¥¼ ì‚¬ìš©í•  ë•Œì—ëŠ” READ COMMITTED ê²©ë¦¬ ìˆ˜ì¤€ + ë‚™ê´€ì  ë²„ì „ ê´€ë¦¬ë¥¼ ì ìš©í•˜ëŠ” ê²ƒì´ ì¼ë°˜ì ì´ë‹¤</p>
</blockquote>

<hr />

<h2 id="2ì°¨-ìºì‹œ">2ì°¨ ìºì‹œ</h2>

<hr />

<div class="carousel__holder">
    <div id="carousel0" class="carousel">
        
          <input class="carousel__activator" type="radio" name="carousel0" id="0a" checked="checked" />
        
          <input class="carousel__activator" type="radio" name="carousel0" id="0b" />
        
          <input class="carousel__activator" type="radio" name="carousel0" id="0c" />
        
          <input class="carousel__activator" type="radio" name="carousel0" id="0d" />
        
          <input class="carousel__activator" type="radio" name="carousel0" id="0e" />
        
          <input class="carousel__activator" type="radio" name="carousel0" id="0f" />
        
          <input class="carousel__activator" type="radio" name="carousel0" id="0g" />
        
          <input class="carousel__activator" type="radio" name="carousel0" id="0h" />
        
          <input class="carousel__activator" type="radio" name="carousel0" id="0i" />
        
          <input class="carousel__activator" type="radio" name="carousel0" id="0j" />
        
          <input class="carousel__activator" type="radio" name="carousel0" id="0k" />
        
          <input class="carousel__activator" type="radio" name="carousel0" id="0l" />
        
        
          
          
          
          
          <div class="carousel__controls">
              <label class="carousel__control carousel__control--backward" for="0l"></label>
              <label class="carousel__control carousel__control--forward" for="0b"></label>
          </div>
        
          
          
          
          
          <div class="carousel__controls">
              <label class="carousel__control carousel__control--backward" for="0a"></label>
              <label class="carousel__control carousel__control--forward" for="0c"></label>
          </div>
        
          
          
          
          
          <div class="carousel__controls">
              <label class="carousel__control carousel__control--backward" for="0b"></label>
              <label class="carousel__control carousel__control--forward" for="0d"></label>
          </div>
        
          
          
          
          
          <div class="carousel__controls">
              <label class="carousel__control carousel__control--backward" for="0c"></label>
              <label class="carousel__control carousel__control--forward" for="0e"></label>
          </div>
        
          
          
          
          
          <div class="carousel__controls">
              <label class="carousel__control carousel__control--backward" for="0d"></label>
              <label class="carousel__control carousel__control--forward" for="0f"></label>
          </div>
        
          
          
          
          
          <div class="carousel__controls">
              <label class="carousel__control carousel__control--backward" for="0e"></label>
              <label class="carousel__control carousel__control--forward" for="0g"></label>
          </div>
        
          
          
          
          
          <div class="carousel__controls">
              <label class="carousel__control carousel__control--backward" for="0f"></label>
              <label class="carousel__control carousel__control--forward" for="0h"></label>
          </div>
        
          
          
          
          
          <div class="carousel__controls">
              <label class="carousel__control carousel__control--backward" for="0g"></label>
              <label class="carousel__control carousel__control--forward" for="0i"></label>
          </div>
        
          
          
          
          
          <div class="carousel__controls">
              <label class="carousel__control carousel__control--backward" for="0h"></label>
              <label class="carousel__control carousel__control--forward" for="0j"></label>
          </div>
        
          
          
          
          
          <div class="carousel__controls">
              <label class="carousel__control carousel__control--backward" for="0i"></label>
              <label class="carousel__control carousel__control--forward" for="0k"></label>
          </div>
        
          
          
          
          
          <div class="carousel__controls">
              <label class="carousel__control carousel__control--backward" for="0j"></label>
              <label class="carousel__control carousel__control--forward" for="0l"></label>
          </div>
        
          
          
          
          
          <div class="carousel__controls">
              <label class="carousel__control carousel__control--backward" for="0k"></label>
              <label class="carousel__control carousel__control--forward" for="0a"></label>
          </div>
        
        <div class="carousel__track">
          <!-- <ul> -->
            
            <li class="carousel__slide" style="background-image: url('/blog/transaction-and-lock/img/transaction-001.jpeg');"></li>
            
            <li class="carousel__slide" style="background-image: url('/blog/transaction-and-lock/img/transaction-002.jpeg');"></li>
            
            <li class="carousel__slide" style="background-image: url('/blog/transaction-and-lock/img/transaction-003.jpeg');"></li>
            
            <li class="carousel__slide" style="background-image: url('/blog/transaction-and-lock/img/transaction-004.jpeg');"></li>
            
            <li class="carousel__slide" style="background-image: url('/blog/transaction-and-lock/img/transaction-005.jpeg');"></li>
            
            <li class="carousel__slide" style="background-image: url('/blog/transaction-and-lock/img/transaction-006.jpeg');"></li>
            
            <li class="carousel__slide" style="background-image: url('/blog/transaction-and-lock/img/transaction-007.jpeg');"></li>
            
            <li class="carousel__slide" style="background-image: url('/blog/transaction-and-lock/img/transaction-008.jpeg');"></li>
            
            <li class="carousel__slide" style="background-image: url('/blog/transaction-and-lock/img/transaction-009.jpeg');"></li>
            
            <li class="carousel__slide" style="background-image: url('/blog/transaction-and-lock/img/transaction-010.jpeg');"></li>
            
            <li class="carousel__slide" style="background-image: url('/blog/transaction-and-lock/img/transaction-011.jpeg');"></li>
            
            <li class="carousel__slide" style="background-image: url('/blog/transaction-and-lock/img/transaction-012.jpeg');"></li>
            
          <!-- </ul> -->
        </div>
        <div class="carousel__indicators">
            
              <label class="carousel__indicator" for="0a"></label>
            
              <label class="carousel__indicator" for="0b"></label>
            
              <label class="carousel__indicator" for="0c"></label>
            
              <label class="carousel__indicator" for="0d"></label>
            
              <label class="carousel__indicator" for="0e"></label>
            
              <label class="carousel__indicator" for="0f"></label>
            
              <label class="carousel__indicator" for="0g"></label>
            
              <label class="carousel__indicator" for="0h"></label>
            
              <label class="carousel__indicator" for="0i"></label>
            
              <label class="carousel__indicator" for="0j"></label>
            
              <label class="carousel__indicator" for="0k"></label>
            
              <label class="carousel__indicator" for="0l"></label>
            
        </div>
    </div>
</div>

<style>
.carousel__holder {width: 100%; position: relative; padding-bottom: 55%; margin: 1rem 0 1rem;}
.carousel {
  height: 100%;
  width: 100%;
  overflow: hidden;
  text-align: center;
  position: absolute;
  padding: 0;
}
.carousel__controls,
.carousel__activator {
  display: none;
}

.carousel__activator:nth-of-type(1):checked ~ .carousel__track {
  -webkit-transform: translateX(-000%);
          transform: translateX(-000%);
}
.carousel__activator:nth-of-type(1):checked ~ .carousel__slide:nth-of-type(1) {
  transition: opacity 0.5s, -webkit-transform 0.5s;
  transition: opacity 0.5s, transform 0.5s;
  transition: opacity 0.5s, transform 0.5s, -webkit-transform 0.5s;
  top: 0;
  left: 0;
  right: 0;
  opacity: 1;
  -webkit-transform: scale(1);
          transform: scale(1);
}
.carousel__activator:nth-of-type(1):checked ~ .carousel__controls:nth-of-type(1) {
  display: block;
  opacity: 1;
}
.carousel__activator:nth-of-type(1):checked ~ .carousel__indicators .carousel__indicator:nth-of-type(1) {
  opacity: 1;
}

.carousel__activator:nth-of-type(2):checked ~ .carousel__track {
  -webkit-transform: translateX(-100%);
          transform: translateX(-100%);
}
.carousel__activator:nth-of-type(2):checked ~ .carousel__slide:nth-of-type(2) {
  transition: opacity 0.5s, -webkit-transform 0.5s;
  transition: opacity 0.5s, transform 0.5s;
  transition: opacity 0.5s, transform 0.5s, -webkit-transform 0.5s;
  top: 0;
  left: 0;
  right: 0;
  opacity: 1;
  -webkit-transform: scale(1);
          transform: scale(1);
}
.carousel__activator:nth-of-type(2):checked ~ .carousel__controls:nth-of-type(2) {
  display: block;
  opacity: 1;
}
.carousel__activator:nth-of-type(2):checked ~ .carousel__indicators .carousel__indicator:nth-of-type(2) {
  opacity: 1;
}

.carousel__activator:nth-of-type(3):checked ~ .carousel__track {
  -webkit-transform: translateX(-200%);
          transform: translateX(-200%);
}
.carousel__activator:nth-of-type(3):checked ~ .carousel__slide:nth-of-type(3) {
  transition: opacity 0.5s, -webkit-transform 0.5s;
  transition: opacity 0.5s, transform 0.5s;
  transition: opacity 0.5s, transform 0.5s, -webkit-transform 0.5s;
  top: 0;
  left: 0;
  right: 0;
  opacity: 1;
  -webkit-transform: scale(1);
          transform: scale(1);
}
.carousel__activator:nth-of-type(3):checked ~ .carousel__controls:nth-of-type(3) {
  display: block;
  opacity: 1;
}
.carousel__activator:nth-of-type(3):checked ~ .carousel__indicators .carousel__indicator:nth-of-type(3) {
  opacity: 1;
}

.carousel__activator:nth-of-type(4):checked ~ .carousel__track {
  -webkit-transform: translateX(-300%);
          transform: translateX(-300%);
}
.carousel__activator:nth-of-type(4):checked ~ .carousel__slide:nth-of-type(4) {
  transition: opacity 0.5s, -webkit-transform 0.5s;
  transition: opacity 0.5s, transform 0.5s;
  transition: opacity 0.5s, transform 0.5s, -webkit-transform 0.5s;
  top: 0;
  left: 0;
  right: 0;
  opacity: 1;
  -webkit-transform: scale(1);
          transform: scale(1);
}
.carousel__activator:nth-of-type(4):checked ~ .carousel__controls:nth-of-type(4) {
  display: block;
  opacity: 1;
}
.carousel__activator:nth-of-type(4):checked ~ .carousel__indicators .carousel__indicator:nth-of-type(4) {
  opacity: 1;
}

.carousel__activator:nth-of-type(5):checked ~ .carousel__track {
  -webkit-transform: translateX(-400%);
          transform: translateX(-400%);
}
.carousel__activator:nth-of-type(5):checked ~ .carousel__slide:nth-of-type(5) {
  transition: opacity 0.5s, -webkit-transform 0.5s;
  transition: opacity 0.5s, transform 0.5s;
  transition: opacity 0.5s, transform 0.5s, -webkit-transform 0.5s;
  top: 0;
  left: 0;
  right: 0;
  opacity: 1;
  -webkit-transform: scale(1);
          transform: scale(1);
}
.carousel__activator:nth-of-type(5):checked ~ .carousel__controls:nth-of-type(5) {
  display: block;
  opacity: 1;
}
.carousel__activator:nth-of-type(5):checked ~ .carousel__indicators .carousel__indicator:nth-of-type(5) {
  opacity: 1;
}

.carousel__activator:nth-of-type(6):checked ~ .carousel__track {
  -webkit-transform: translateX(-500%);
          transform: translateX(-500%);
}
.carousel__activator:nth-of-type(6):checked ~ .carousel__slide:nth-of-type(6) {
  transition: opacity 0.5s, -webkit-transform 0.5s;
  transition: opacity 0.5s, transform 0.5s;
  transition: opacity 0.5s, transform 0.5s, -webkit-transform 0.5s;
  top: 0;
  left: 0;
  right: 0;
  opacity: 1;
  -webkit-transform: scale(1);
          transform: scale(1);
}
.carousel__activator:nth-of-type(6):checked ~ .carousel__controls:nth-of-type(6) {
  display: block;
  opacity: 1;
}
.carousel__activator:nth-of-type(6):checked ~ .carousel__indicators .carousel__indicator:nth-of-type(6) {
  opacity: 1;
}

.carousel__activator:nth-of-type(7):checked ~ .carousel__track {
  -webkit-transform: translateX(-600%);
          transform: translateX(-600%);
}
.carousel__activator:nth-of-type(7):checked ~ .carousel__slide:nth-of-type(7) {
  transition: opacity 0.5s, -webkit-transform 0.5s;
  transition: opacity 0.5s, transform 0.5s;
  transition: opacity 0.5s, transform 0.5s, -webkit-transform 0.5s;
  top: 0;
  left: 0;
  right: 0;
  opacity: 1;
  -webkit-transform: scale(1);
          transform: scale(1);
}
.carousel__activator:nth-of-type(7):checked ~ .carousel__controls:nth-of-type(7) {
  display: block;
  opacity: 1;
}
.carousel__activator:nth-of-type(7):checked ~ .carousel__indicators .carousel__indicator:nth-of-type(7) {
  opacity: 1;
}

.carousel__activator:nth-of-type(8):checked ~ .carousel__track {
  -webkit-transform: translateX(-700%);
          transform: translateX(-700%);
}
.carousel__activator:nth-of-type(8):checked ~ .carousel__slide:nth-of-type(8) {
  transition: opacity 0.5s, -webkit-transform 0.5s;
  transition: opacity 0.5s, transform 0.5s;
  transition: opacity 0.5s, transform 0.5s, -webkit-transform 0.5s;
  top: 0;
  left: 0;
  right: 0;
  opacity: 1;
  -webkit-transform: scale(1);
          transform: scale(1);
}
.carousel__activator:nth-of-type(8):checked ~ .carousel__controls:nth-of-type(8) {
  display: block;
  opacity: 1;
}
.carousel__activator:nth-of-type(8):checked ~ .carousel__indicators .carousel__indicator:nth-of-type(8) {
  opacity: 1;
}

.carousel__activator:nth-of-type(9):checked ~ .carousel__track {
  -webkit-transform: translateX(-800%);
          transform: translateX(-800%);
}
.carousel__activator:nth-of-type(9):checked ~ .carousel__slide:nth-of-type(9) {
  transition: opacity 0.5s, -webkit-transform 0.5s;
  transition: opacity 0.5s, transform 0.5s;
  transition: opacity 0.5s, transform 0.5s, -webkit-transform 0.5s;
  top: 0;
  left: 0;
  right: 0;
  opacity: 1;
  -webkit-transform: scale(1);
          transform: scale(1);
}
.carousel__activator:nth-of-type(9):checked ~ .carousel__controls:nth-of-type(9) {
  display: block;
  opacity: 1;
}
.carousel__activator:nth-of-type(9):checked ~ .carousel__indicators .carousel__indicator:nth-of-type(9) {
  opacity: 1;
}

.carousel__activator:nth-of-type(10):checked ~ .carousel__track {
  -webkit-transform: translateX(-900%);
          transform: translateX(-900%);
}
.carousel__activator:nth-of-type(10):checked ~ .carousel__slide:nth-of-type(10) {
  transition: opacity 0.5s, -webkit-transform 0.5s;
  transition: opacity 0.5s, transform 0.5s;
  transition: opacity 0.5s, transform 0.5s, -webkit-transform 0.5s;
  top: 0;
  left: 0;
  right: 0;
  opacity: 1;
  -webkit-transform: scale(1);
          transform: scale(1);
}
.carousel__activator:nth-of-type(10):checked ~ .carousel__controls:nth-of-type(10) {
  display: block;
  opacity: 1;
}
.carousel__activator:nth-of-type(10):checked ~ .carousel__indicators .carousel__indicator:nth-of-type(10) {
  opacity: 1;
}

.carousel__activator:nth-of-type(11):checked ~ .carousel__track {
  -webkit-transform: translateX(-1000%);
          transform: translateX(-1000%);
}
.carousel__activator:nth-of-type(11):checked ~ .carousel__slide:nth-of-type(11) {
  transition: opacity 0.5s, -webkit-transform 0.5s;
  transition: opacity 0.5s, transform 0.5s;
  transition: opacity 0.5s, transform 0.5s, -webkit-transform 0.5s;
  top: 0;
  left: 0;
  right: 0;
  opacity: 1;
  -webkit-transform: scale(1);
          transform: scale(1);
}
.carousel__activator:nth-of-type(11):checked ~ .carousel__controls:nth-of-type(11) {
  display: block;
  opacity: 1;
}
.carousel__activator:nth-of-type(11):checked ~ .carousel__indicators .carousel__indicator:nth-of-type(11) {
  opacity: 1;
}

.carousel__activator:nth-of-type(12):checked ~ .carousel__track {
  -webkit-transform: translateX(-1100%);
          transform: translateX(-1100%);
}
.carousel__activator:nth-of-type(12):checked ~ .carousel__slide:nth-of-type(12) {
  transition: opacity 0.5s, -webkit-transform 0.5s;
  transition: opacity 0.5s, transform 0.5s;
  transition: opacity 0.5s, transform 0.5s, -webkit-transform 0.5s;
  top: 0;
  left: 0;
  right: 0;
  opacity: 1;
  -webkit-transform: scale(1);
          transform: scale(1);
}
.carousel__activator:nth-of-type(12):checked ~ .carousel__controls:nth-of-type(12) {
  display: block;
  opacity: 1;
}
.carousel__activator:nth-of-type(12):checked ~ .carousel__indicators .carousel__indicator:nth-of-type(12) {
  opacity: 1;
}


.carousel__control {
  height: 30px;
  width: 30px;
  margin-top: -15px;
  top: 50%;
  position: absolute;
  display: block;
  cursor: pointer;
  border-width: 5px 5px 0 0;
  border-style: solid;
  border-color: #dfdfdf;
  opacity: 0.35;
  /* opacity: 0.75; */
  outline: 0;
  z-index: 3;
}
.carousel__control:hover {
  opacity: 0.75;
}
.carousel__control--backward {
  left: 20px;
  -webkit-transform: rotate(-135deg);
          transform: rotate(-135deg);
}
.carousel__control--forward {
  right: 20px;
  -webkit-transform: rotate(45deg);
          transform: rotate(45deg);
}
.carousel__indicators {
  position: absolute;
  bottom: 20px;
  width: 100%;
  text-align: center;
}
.carousel__indicator {
  height: 10px;
  width: 10px;
  border-radius: 100%;
  display: inline-block;
  z-index: 2;
  cursor: pointer;
  opacity: 0.35;
  margin: 0 2.5px 0 2.5px;
}
.carousel__indicator:hover {
  opacity: 0.75;
}
.carousel__track {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  padding: 0;
  margin: 10px 0;
  transition: -webkit-transform 0.5s ease 0s;
  transition: transform 0.5s ease 0s;
  transition: transform 0.5s ease 0s, -webkit-transform 0.5s ease 0s;
}
.carousel__track .carousel__slide {
  display: block;
  top: 0;
  left: 0;
  right: 0;
  opacity: 1;
}

.carousel__track .carousel__slide:nth-of-type(1) {
  -webkit-transform: translateX(000%);
          transform: translateX(000%);
}

.carousel__track .carousel__slide:nth-of-type(2) {
  -webkit-transform: translateX(100%);
          transform: translateX(100%);
}

.carousel__track .carousel__slide:nth-of-type(3) {
  -webkit-transform: translateX(200%);
          transform: translateX(200%);
}

.carousel__track .carousel__slide:nth-of-type(4) {
  -webkit-transform: translateX(300%);
          transform: translateX(300%);
}

.carousel__track .carousel__slide:nth-of-type(5) {
  -webkit-transform: translateX(400%);
          transform: translateX(400%);
}

.carousel__track .carousel__slide:nth-of-type(6) {
  -webkit-transform: translateX(500%);
          transform: translateX(500%);
}

.carousel__track .carousel__slide:nth-of-type(7) {
  -webkit-transform: translateX(600%);
          transform: translateX(600%);
}

.carousel__track .carousel__slide:nth-of-type(8) {
  -webkit-transform: translateX(700%);
          transform: translateX(700%);
}

.carousel__track .carousel__slide:nth-of-type(9) {
  -webkit-transform: translateX(800%);
          transform: translateX(800%);
}

.carousel__track .carousel__slide:nth-of-type(10) {
  -webkit-transform: translateX(900%);
          transform: translateX(900%);
}

.carousel__track .carousel__slide:nth-of-type(11) {
  -webkit-transform: translateX(1000%);
          transform: translateX(1000%);
}

.carousel__track .carousel__slide:nth-of-type(12) {
  -webkit-transform: translateX(1100%);
          transform: translateX(1100%);
}


.carousel--scale .carousel__slide {
  -webkit-transform: scale(0);
          transform: scale(0);
}
.carousel__slide {
  height: 100%;
  position: absolute;
  opacity: 0;
  overflow: hidden;
}
.carousel__slide .overlay {height: 100%;}
.carousel--thumb .carousel__indicator {
  height: 30px;
  width: 30px;
}
.carousel__indicator {
  background-color: #fafafa;
}

.carousel__slide:nth-of-type(1),
.carousel--thumb .carousel__indicators .carousel__indicator:nth-of-type(1) {
  background-size: cover;
  background-position: center;
}

.carousel__slide:nth-of-type(2),
.carousel--thumb .carousel__indicators .carousel__indicator:nth-of-type(2) {
  background-size: cover;
  background-position: center;
}

.carousel__slide:nth-of-type(3),
.carousel--thumb .carousel__indicators .carousel__indicator:nth-of-type(3) {
  background-size: cover;
  background-position: center;
}

.carousel__slide:nth-of-type(4),
.carousel--thumb .carousel__indicators .carousel__indicator:nth-of-type(4) {
  background-size: cover;
  background-position: center;
}

.carousel__slide:nth-of-type(5),
.carousel--thumb .carousel__indicators .carousel__indicator:nth-of-type(5) {
  background-size: cover;
  background-position: center;
}

.carousel__slide:nth-of-type(6),
.carousel--thumb .carousel__indicators .carousel__indicator:nth-of-type(6) {
  background-size: cover;
  background-position: center;
}

.carousel__slide:nth-of-type(7),
.carousel--thumb .carousel__indicators .carousel__indicator:nth-of-type(7) {
  background-size: cover;
  background-position: center;
}

.carousel__slide:nth-of-type(8),
.carousel--thumb .carousel__indicators .carousel__indicator:nth-of-type(8) {
  background-size: cover;
  background-position: center;
}

.carousel__slide:nth-of-type(9),
.carousel--thumb .carousel__indicators .carousel__indicator:nth-of-type(9) {
  background-size: cover;
  background-position: center;
}

.carousel__slide:nth-of-type(10),
.carousel--thumb .carousel__indicators .carousel__indicator:nth-of-type(10) {
  background-size: cover;
  background-position: center;
}

.carousel__slide:nth-of-type(11),
.carousel--thumb .carousel__indicators .carousel__indicator:nth-of-type(11) {
  background-size: cover;
  background-position: center;
}

.carousel__slide:nth-of-type(12),
.carousel--thumb .carousel__indicators .carousel__indicator:nth-of-type(12) {
  background-size: cover;
  background-position: center;
}

</style>

<script>
  function isVisible(el) {
        while (el) {
            if (el === document) {
                return true;
            }

            var $style = window.getComputedStyle(el, null);

            if (!el) {
                return false;
            } else if (!$style) {
                return false;
            } else if ($style.display === 'none') {
                return false;
            } else if ($style.visibility === 'hidden') {
                return false;
            } else if (+$style.opacity === 0) {
                return false;
            } else if (($style.display === 'block' || $style.display === 'inline-block') &&
                $style.height === '0px' && $style.overflow === 'hidden') {
                return false;
            } else {
                return $style.position === 'fixed' || isVisible(el.parentNode);
            }
        }
  }
  
  setInterval(function(){
    var j=0;
    var elements = document.querySelectorAll('#carousel0 .carousel__control--forward');
    for(i=(elements.length - 1);i>-1;i--) {
      if(isVisible(elements[i])) j=i;
    }
    elements[j].click();
  },20000);
  
</script>

<blockquote>
  <p>ì‚¬ë‚´ ìŠ¤í„°ë””ì—ì„œ ë°œí‘œí–ˆë˜ ì¥í‘œ</p>
</blockquote>

<hr />

<h2 id="appendix">Appendix</h2>
<ul>
  <li><a href="https://ko.wikipedia.org/wiki/ACID">ìœ„í‚¤ë°±ê³¼ ACID</a></li>
  <li><a href="https://hyunki1019.tistory.com/111">MySQL Isolation Level ì¢…ë¥˜ ë° íŠ¹ì§•</a></li>
  <li><a href="https://nesoy.github.io/articles/2019-05/Database-Transaction-isolation">íŠ¸ëœì­ì…˜ì˜ ê²©ë¦¬ ìˆ˜ì¤€ì´ë€</a></li>
</ul>
:ET